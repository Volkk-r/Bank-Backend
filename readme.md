# Bank Dashboard Backend API

Локальный сервер, разработанный на Node.js с использованием Express.js, предоставляет REST API для тестирования и отладки интерфейса банковского дашборда. API охватывает базовые операции с аккаунтами, транзакциями, счетами и способами оплаты.

## Установка и запуск

1. Убедитесь, что установлен Node.js (версия 14 и выше).
2. Установите зависимости, выполнив команду:

```bash
npm install
```

3. Запустите сервер:

```bash
node server.js
```

Сервер будет доступен по адресу:  
`http://localhost:5000`

## Доступные эндпоинты

### GET `/accounts`

Возвращает список банковских счетов.

**Пример ответа:**

```json
[
  { "id": 1, "name": "Зарплата", "balance": 20000 },
  { "id": 2, "name": "Фриланс", "balance": 455 }
]
```

---

### GET `/transactions`

Возвращает список всех транзакций.

**Пример ответа:**

```json
[
  {
    "id": 1,
    "name": "Яндекс",
    "amount": -2500,
    "date": "2025-03-04T09:30:00",
    "status": "success"
  }
]
```

---

### GET `/transactions/filter`

Фильтрует транзакции по диапазону дат.

**Параметры запроса:**
- `startDate` (в формате `YYYY-MM-DD`)
- `endDate` (в формате `YYYY-MM-DD`)

**Пример запроса:**

```
GET /transactions/filter?startDate=2025-02-01&endDate=2025-03-01
```

**Пример ответа:**

```json
[
  {
    "id": 5,
    "name": "Spotify",
    "amount": -799,
    "date": "2025-02-10",
    "status": "success"
  }
]
```

---

### GET `/invoices`

Возвращает список выставленных счетов.

**Пример ответа:**

```json
[
  { "id": "MS-415646", "date": "2020-03-01", "amount": 180 },
  { "id": "MS-684286", "date": "2020-03-10", "amount": 250 }
]
```

---

### DELETE `/invoices/:id`

Удаляет счёт по заданному идентификатору.

**Пример запроса:**

```
DELETE /invoices/MS-415646
```

**Пример ответа:**

```json
{
  "message": "Счёт удалён",
  "id": "MS-415646"
}
```

---

### GET `/payment-methods`

Возвращает список сохранённых способов оплаты.

**Пример ответа:**

```json
[
  { "id": 1, "type": "Visa", "number": "7812 2139 0823 XXXX" },
  { "id": 2, "type": "Mastercard", "number": "5243 9123 5678 XXXX" }
]
```

---

### POST `/payment-methods`

Добавляет новый способ оплаты.

**Тело запроса:**

```json
{
  "type": "Mir",
  "number": "2200 1234 5678 XXXX"
}
```

**Пример ответа:**

```json
{
  "id": 3,
  "type": "Mir",
  "number": "2200 1234 5678 XXXX"
}
```

---

### PUT `/payment-methods/:id`

Редактирует существующий способ оплаты.

**Тело запроса:**

```json
{
  "type": "Visa Gold",
  "number": "4815 1623 9876 XXXX"
}
```

**Пример ответа:**

```json
{
  "id": 1,
  "type": "Visa Gold",
  "number": "4815 1623 9876 XXXX"
}
```

---

## Структура проекта

```
.
├── server.js        // Основной файл сервера
├── package.json     // Описание зависимостей
```

## Пример использования (на клиенте)

**Получение списка счетов:**

```js
fetch('http://localhost:5000/accounts')
  .then(res => res.json())
  .then(data => console.log(data));
```

**Добавление способа оплаты:**

```js
fetch('http://localhost:5000/payment-methods', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    type: 'Visa',
    number: '4111 1111 1111 XXXX'
  })
})
  .then(res => res.json())
  .then(data => console.log(data));
```

## Дополнительная информация

- Все данные хранятся в оперативной памяти. При перезапуске сервера данные будут сброшены.
- Кросс-доменные запросы (CORS) разрешены.
- Предназначено для локальной разработки и тестирования пользовательского интерфейса.